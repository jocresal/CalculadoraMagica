<html>
<head>
    <title></title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,300,500' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="style.css" type="text/css">
</head>
<body>
    
    <nav>
        <div class="logout">
            <img src="regresar.png" id="in_color" onclick="salir()">
        </div>
        <h1 id="tsecretitulo">TOP SECRET</h1>
    </nav>
    
        <div class="subtitulo">
            <p>Guarda notas para tu examen</p>
        </div>
    
    <div class="contenedor" id="contenedor-pendientes">
        
        <div class="acordeon">
            <input type="text" placeholder="Agregar nuevo acordeón" id="agregar-pendiente">
            <button onclick="guardarP()" id="agregar-acordeon"><img src="More-512.png" id="bk_color"></button>
        </div>
    </div>
        
        <script>
            function guardarP(){
                //Guarda un pendiente el local host
                //Capturamos el valor de input en una variable
                pendiente = document.getElementById('agregar-pendiente').value;
                
                //OBTENER LO QUE YA HABIA GUARDADO
                pendientesGuardados=localStorage.getItem('pendiente');
                totalPendientes=pendientesGuardados+pendiente+'-';
                
                //almacenamos el valor en la llave pendiente en el LocalStroge
                localStorage.setItem('pendiente', totalPendientes);
                //Borramos lo que estaba escrito en el input pendiente
                document.getElementById('agregar-pendiente').value="";
                
                //Creamos la cadena de textpo del nuevo div
                nuevoPendiente="<div class='pendiente'><p>"+pendiente+"</p></div>";
                //Incrustamos el nuevo div en el contenedor
                document.getElementById('contenedor-pendientes').innerHTML+=nuevoPendiente
            }
            
            //ESCUCHADOR DE EVENTOS
            
            window.addEventListener('load',cargada,'true');
            
            function cargada(){
                //OBTENEMOS LO QUE ESTÁ ALMACENANDO
                pendientes = localStorage.getItem('pendiente');
                //PARTIR POR MEDIO DE LOS GUIONES
                //pendientePartido SE CONVIRTIÓ EN UN ARREGLO QUE CONTIENE PENDIENTES
                pendientePartido=pendientes.split('-');
                //Imprimir los pendientes en un While
                var i=0;
                while(i<pendientePartido.length-1){
                    contenedorPendientes=document.getElementById('contenedor-pendientes')
                    contenedorPendientes.innerHTML+= "<div class='pendiente'><p>"+pendientePartido[i]+"</p></div>"
                    i++;
                }
                
                contenedorPendientes=document.getElementById ('contenedor-pendientes');
                contenedorPendientes.innerHTML+="<div class='pendiente' class='nuevo-acordeon'><p>"+pendientes+"</p></div>";
            }
            
            function salir(){
                window.location.assign('index.html');
            }

            
        </script>
        
    </div>
</body>
</html>